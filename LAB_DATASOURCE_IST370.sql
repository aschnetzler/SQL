-- For IST334 & IST370

-- ******************************************  JUSTLEE books DATABASE

DROP TABLE customers CASCADE CONSTRAINTS;
DROP TABLE orders CASCADE CONSTRAINTS;
DROP TABLE publishers CASCADE CONSTRAINTS;
DROP TABLE authors CASCADE CONSTRAINTS;
DROP TABLE books CASCADE CONSTRAINTS;
DROP TABLE orderitems CASCADE CONSTRAINTS;
DROP TABLE bookauthor CASCADE CONSTRAINTS;
DROP TABLE promotion CASCADE CONSTRAINTS;

-- ======================================================= customers

CREATE TABLE customers
(customer#  CHAR(5),
lastName VARCHAR2(10) NOT NULL,
firstName VARCHAR2(10) NOT NULL,
address VARCHAR2(20),
city VARCHAR2(12),
state VARCHAR2(2),
zip VARCHAR2(5),
referred CHAR(5),
region CHAR(2),
email VARCHAR2(30),
  CONSTRAINT customers_customer#_pk PRIMARY KEY(customer#),
  CONSTRAINT customers_region_ck
                CHECK (region IN ('N', 'NW', 'NE', 'S', 'SE', 'SW', 'W', 'E')) );

INSERT INTO customers
VALUES ('C1001', 'MORALES', 'BONITA', 'P.O. BOX 651', 'EASTPOINT', 'FL', '32328', NULL, 'SE', 'bm225@sat.net');
INSERT INTO customers
VALUES ('C1002', 'THOMPSON', 'RYAN', 'P.O. BOX 9835', 'SANTA MONICA', 'CA', '90404', NULL, 'W', NULL);
INSERT INTO customers 
VALUES ('C1003', 'SMITH', 'LEILA', 'P.O. BOX 66', 'TALLAHASSEE', 'FL', '32306', NULL, 'SE', NULL); 
INSERT INTO customers 
VALUES ('C1004', 'PIERSON', 'THOMAS', '69821 SOUTH AVENUE', 'BOISE', 'ID', '83707', NULL, 'NW', 'tpier55@sat.net'); 
INSERT INTO customers 
VALUES ('C1005', 'GIRARD', 'CINDY', 'P.O. BOX 851', 'SEATTLE', 'WA', '98115', NULL, 'NW', 'cing101@zep.net'); 
INSERT INTO customers 
VALUES ('C1006', 'CRUZ', 'MESHIA', '82 DIRT ROAD', 'ALBANY', 'NY', '12211', NULL, 'NE', 'cruztop@axe.com'); 
INSERT INTO customers 
VALUES ('C1007', 'GIANA', 'TAMMY', '9153 MAIN STREET', 'AUSTIN', 'TX', '78710', 'C1003', 'SW', 'treetop@zep.net'); 
INSERT INTO customers 
VALUES ('C1008', 'JONES', 'KENNETH', 'P.O. BOX 137', 'CHEYENNE', 'WY', '82003', NULL, 'N', 'kenask@sat.net'); 
INSERT INTO customers 
VALUES ('C1009', 'PEREZ', 'JORGE', 'P.O. BOX 8564', 'BURBANK', 'CA', '91510', 'C1003', 'W', 'jperez@canet.com'); 
INSERT INTO customers 
VALUES ('C1010', 'LUCAS', 'JAKE', '114 EAST SAVANNAH', 'ATLANTA', 'GA', '30314', NULL, 'SE', NULL); 
INSERT INTO customers 
VALUES ('C1011', 'MCGOVERN', 'REESE', 'P.O. BOX 18', 'CHICAGO', 'IL', '60606', NULL, 'N', 'reesemc@sat.net');  
INSERT INTO customers 
VALUES ('C1012', 'MCKENZIE', 'WILLIAM', 'P.O. BOX 971', 'BOSTON', 'MA', '02110', NULL, 'NE', 'will2244@axe.net'); 
INSERT INTO customers 
VALUES ('C1013', 'NGUYEN', 'NICHOLAS', '357 WHITE EAGLE AVE.', 'CLERMONT', 'FL', '34711', 'C1006', 'SE', 'nguy33@sat.net'); 
INSERT INTO customers 
VALUES ('C1014', 'LEE', 'JASMINE', 'P.O. BOX 2947', 'CODY', 'WY', '82414', NULL, 'N', 'jaslee@sat.net'); 
INSERT INTO customers 
VALUES ('C1015', 'SCHELL', 'STEVE', 'P.O. BOX 677', 'MIAMI', 'FL', '33111', NULL, 'SE', 'sschell3@sat.net'); 
INSERT INTO customers 
VALUES ('C1016', 'DAUM', 'MICHELL', '9851231 LONG ROAD', 'BURBANK', 'CA', '91508', 'C1010', 'W', NULL); 
INSERT INTO customers 
VALUES ('C1017', 'NELSON', 'BECCA', 'P.O. BOX 563', 'KALMAZOO', 'MI', '49006', NULL, 'N', 'becca88@digs.com'); 
INSERT INTO customers 
VALUES ('C1018', 'MONTIASA', 'GREG', '1008 GRAND AVENUE', 'MACON', 'GA', '31206', NULL, 'SE', 'greg336@sat.net'); 
INSERT INTO customers
VALUES('C1019', 'SMITH', 'JENNIFER', 'P.O. BOX 1151', 'MORRISTOWN', 'NJ', '07962', 'C1003', 'NE', NULL); 
INSERT INTO customers 
VALUES ('C1020', 'FALAH', 'KENNETH', 'P.O. BOX 335', 'TRENTON', 'NJ', '08607', NULL, 'NE', 'Kfalah@sat.net'); 
 
-- ======================================================= orders

CREATE TABLE orders 
(order# NUMBER(4), 
customer# CHAR(5), 
orderdate DATE NOT NULL, 
shipdate DATE, 
shipstreet VARCHAR2(18), 
shipcity VARCHAR2(15), 
shipstate VARCHAR2(2), 
shipzip VARCHAR2(5),
shipcost NUMBER(4,2),
paymenttype VARCHAR2(20),
  CONSTRAINT orders_order#_pk PRIMARY KEY(order#),
  CONSTRAINT orders_customer#_fk FOREIGN KEY (customer#)
    REFERENCES customers(customer#)); 
 
INSERT INTO orders 
VALUES (1000,'C1005','02-JAN-15','10-JAN-15','1201 ORANGE AVE', 'SEATTLE', 'WA', '98114' , 2.00, 'VISA'); 
INSERT INTO orders 
VALUES (1001,'C1010','31-JAN-15','03-FEB-15', '114 EAST SAVANNAH', 'ATLANTA', 'GA', '30314', 3.00, 'VISA'); 
INSERT INTO orders 
VALUES (1002,'C1011','08-FEB-15','10-FEB-15','58 TILA CIRCLE', 'CHICAGO', 'IL', '60605', 3.00, 'MASTER CARD'); 
INSERT INTO orders 
VALUES (1003,'C1001','01-MAR-15','08-MAR-15','958 MAGNOLIA LANE', 'EASTPOINT', 'FL', '32328', 4.00, 'VISA'); 
INSERT INTO orders 
VALUES (1004,'C1020','10-MAR-15','15-MAR-15','561 ROUNDABOUT WAY', 'TRENTON', 'NJ', '08601', NULL, 'VISA'); 
INSERT INTO orders 
VALUES (1005,'C1018','01-APR-15','10-APR-15', '1008 GRAND AVENUE', 'MACON', 'GA', '31206', 2.00, 'DISCOVER'); 
INSERT INTO orders 
VALUES (1006,'C1003','01-APR-15','02-MAY-15','558A CAPITOL HWY.', 'TALLAHASSEE', 'FL', '32307', 2.00, 'VISA'); 
INSERT INTO orders 
VALUES (1007,'C1007','01-APR-15','04-APR-15', '9153 MAIN STREET', 'AUSTIN', 'TX', '78710', 7.00, 'DISCOVER'); 
INSERT INTO orders 
VALUES (1008,'C1004','02-APR-15','03-JUN-15', '69821 SOUTH AVENUE', 'BOISE', 'ID', '83707', 3.00, 'VISA'); 
INSERT INTO orders 
VALUES (1009,'C1005','03-MAY-15','05-JUN-15','9 LIGHTENING RD.', 'SEATTLE', 'WA', '98110', NULL, 'VISA'); 
INSERT INTO orders 
VALUES (1010,'C1019','03-MAY-15','04-JUL-15','384 WRONG WAY HOME', 'MORRISTOWN', 'NJ', '07960', 2.00, 'AMERICAN EXPRESS'); 
INSERT INTO orders 
VALUES (1011,'C1010','03-JUL-15','05-AUG-15', '102 WEST LAFAYETTE', 'ATLANTA', 'GA', '30311', 2.00, 'VISA'); 
INSERT INTO orders 
VALUES (1012,'C1017','03-AUG-15',NULL,'1295 WINDY AVENUE', 'KALMAZOO', 'MI', '49002', 6.00, 'AMERICAN EXPRESS'); 
INSERT INTO orders 
VALUES (1013,'C1014','03-SEP-15','24-SEP-15','7618 MOUNTAIN RD.', 'CODY', 'WY', '82414', 2.00, 'AMERICAN EXPRESS'); 
INSERT INTO orders 
VALUES (1014,'C1007','04-OCT-15','05-OCT-15', '9153 MAIN STREET', 'AUSTIN', 'TX', '78710', 3.00, 'MASTER CARD'); 
INSERT INTO orders 
VALUES (1015,'C1020','04-OCT-15',NULL,'557 GLITTER ST.', 'TRENTON', 'NJ', '08606', 2.00, 'DISCOVER'); 
INSERT INTO orders 
VALUES (1016,'C1003','10-NOV-15',NULL,'9901 SEMINOLE WAY', 'TALLAHASSEE', 'FL', '32307', 2.00, 'AMERICAN EXPRESS'); 
INSERT INTO orders 
VALUES (1017,'C1015','10-NOV-15','15-NOV-15','887 HOT ASPHALT ST', 'MIAMI', 'FL', '33112', 3.00, 'MASTER CARD'); 
INSERT INTO orders 
VALUES (1018,'C1001','05-DEC-15',NULL,'95812 HIGHWAY 98', 'EASTPOINT', 'FL', '32328', NULL, 'MASTER CARD'); 
INSERT INTO orders 
VALUES (1019,'C1018','15-DEC-15',NULL, '1008 GRAND AVENUE', 'MACON', 'GA', '31206', 2.00, 'MASTER CARD'); 
INSERT INTO orders 
VALUES (1020,'C1008','16-DEC-15',NULL,'195 JAMISON LANE', 'CHEYENNE', 'WY', '82003', 2.00, 'MASTER CARD'); 

-- ======================================================= publishers

CREATE TABLE publishers 
(pubid NUMBER(2), 
name VARCHAR2(23), 
contact VARCHAR2(15), 
phone VARCHAR2(12),
  CONSTRAINT publishers_pubid_pk PRIMARY KEY(pubid)); 
 
INSERT INTO publishers 
VALUES(1,'PRINTING IS US','TOMMIE SEYMOUR','000-714-8321'); 
INSERT INTO publishers 
VALUES(2,'PUBLISH OUR WAY','JANE TOMLIN','010-410-0010'); 
INSERT INTO publishers 
VALUES(3,'AMERICAN PUBLISHING','DAVID DAVIDSON','800-555-1211'); 
INSERT INTO publishers 
VALUES(4,'READING MATERIALS INC.','RENEE SMITH','800-555-9743'); 
INSERT INTO publishers 
VALUES(5,'REED-N-RITE','SEBASTIAN JONES','800-555-8284'); 

-- ======================================================= authors

CREATE TABLE authors 
(authorid VARCHAR2(4), 
lname VARCHAR2(10), 
fname VARCHAR2(10),
  CONSTRAINT authors_authorsid_pk PRIMARY KEY(authorid)); 
 
INSERT INTO authors 
VALUES ('S100','SMITH', 'SAM'); 
INSERT INTO authors 
VALUES ('J100','JONES','JANICE'); 
INSERT INTO authors 
VALUES ('A100','AUSTIN','JAMES'); 
INSERT INTO authors 
VALUES ('M100','MARTINEZ','SHEILA'); 
INSERT INTO authors 
VALUES ('K100','KZOCHSKY','TAMARA'); 
INSERT INTO authors 
VALUES ('P100','PORTER','LISA'); 
INSERT INTO authors 
VALUES ('A105','ADAMS','JUAN'); 
INSERT INTO authors 
VALUES ('B100','BAKER','JACK');  
INSERT INTO authors 
VALUES ('P105','PETERSON','TINA'); 
INSERT INTO authors 
VALUES ('W100','WHITE','WILLIAM'); 
INSERT INTO authors 
VALUES ('W105','WHITE','LISA'); 
INSERT INTO authors 
VALUES ('R100','ROBINSON','ROBERT'); 
INSERT INTO authors 
VALUES ('F100','FIELDS','OSCAR'); 
INSERT INTO authors 
VALUES ('W110','WILKINSON','ANTHONY'); 

-- ======================================================= books

CREATE TABLE books 
(isbn VARCHAR2(10), 
title VARCHAR2(30), 
pubdate DATE, 
pubid NUMBER (2), 
cost NUMBER (5,2), 
retail NUMBER (5,2), 
discount NUMBER (4,2),
category VARCHAR2(12),
  CONSTRAINT books_isbn_pk PRIMARY KEY(isbn),
  CONSTRAINT books_pubid_fk FOREIGN KEY (pubid)
    REFERENCES publishers (pubid)); 

-- COMPUTER
INSERT INTO books 
VALUES ('8843172113','DATABASE IMPLEMENTATION','04-JUN-03',3,31.40,55.95, NULL, 'COMPUTER'); 
INSERT INTO books 
VALUES ('3957136468','HOLY GRAIL OF ORACLE','31-DEC-05',3,47.25,75.95, 3.80, 'COMPUTER'); 
INSERT INTO books 
VALUES ('1915762492','HANDCRANKED COMPUTERS','21-JAN-05',3,21.80,25.00, NULL, 'COMPUTER'); 
INSERT INTO books 
VALUES ('9959789321','E-BUSINESS THE EASY WAY','01-MAR-04',2,37.90,54.50, NULL, 'COMPUTER'); 
INSERT INTO books 
VALUES ('9959789322', 'DATA MINING FOR BUSINESS','02-SEP-05',2,38.90,64.50, NULL, 'COMPUTER');
INSERT INTO books 
VALUES ('9959781235','LEARNING MYSQL AND SQL','26-AUG-05',2,40.90,60.50, NULL, 'COMPUTER');
INSERT INTO books 
VALUES ('998939321','INTRODUCTION TO DATABASE MANAGEMENT','12-OCT-04',3,57.90,75.50, NULL, 'COMPUTER');


-- FITNESS
INSERT INTO books 
VALUES ('1059831198','BODYBUILD IN 10 MINUTES A DAY','21-JAN-05',4,18.75,30.95, NULL, 'FITNESS'); 

INSERT INTO books 
VALUES ('1059831158','EXERCISE EVERYDAY','21-FEB-05',4,28.75,39.95, NULL, 'FITNESS'); 
INSERT INTO books 
VALUES ('1159831298','SLIMMER AND YOUNGER','31-JAN-05',4,28.75,42.95, NULL, 'FITNESS'); 
INSERT INTO books 
VALUES ('1259831398','YOGA FOR KIDS','01-JAN-04',5,15.75,30.95, NULL, 'FITNESS'); 
INSERT INTO books 
VALUES ('1359831498','BODY FOR LIFE','19-FEB-15',5,20.75,36.95, NULL, 'FITNESS'); 

-- FAMILY LIFE
INSERT INTO books 
VALUES ('0401140733','REVENGE OF MICKEY','14-DEC-05',1,14.20,22.00, NULL, 'FAMILY LIFE'); 
INSERT INTO books 
VALUES ('2491748320','PAINLESS CHILD-REARING','17-NOV-05',5,48.00,89.95, 4.50, 'FAMILY LIFE'); 

INSERT INTO books 
VALUES ('2491748300','MY FIRST LOVE','18-JUL-05',5,28.00,39.95, 4.50, 'FAMILY LIFE'); 
INSERT INTO books 
VALUES ('2491958320','UNCLE SAM','20-JUN-05',1,28.00,34.95, 4.50, 'FAMILY LIFE'); 
INSERT INTO books 
VALUES ('2492748321','KINDRED SPIRITS','27-JUL-05',2,38.00,44.95, 4.50, 'FAMILY LIFE'); 

-- CHILDREN
INSERT INTO books 
VALUES ('4981341710','BUILDING A CAR WITH TOOTHPICKS','18-MAR-04',2,37.80,59.95, 3.00, 'CHILDREN'); 
INSERT INTO books 
VALUES ('8117949391','BIG BEAR AND LITTLE DOVE','08-NOV-05',5,5.32,8.95, NULL, 'CHILDREN'); 

INSERT INTO books 
VALUES ('8117949392','HARRY POTTER','25-DEC-05',5,15.32,18.95, NULL, 'CHILDREN');
INSERT INTO books 
VALUES ('8117949393','BIG FOOT AND ME','08-OCT-05',5,25.32,28.95, NULL, 'CHILDREN'); 
INSERT INTO books 
VALUES ('8117949394','FIRST 100 WORDS','10-NOV-05',5,7.67,10.95, NULL, 'CHILDREN'); 
INSERT INTO books 
VALUES ('8117949395','WIMPY DAD','12-DEC-05',5,18.00,25.95, NULL, 'CHILDREN'); 

-- COOKING
INSERT INTO books 
VALUES ('3437212490','COOKING WITH MUSHROOMS','28-FEB-04',4,12.50,19.95, NULL, 'COOKING'); 
INSERT INTO books 
VALUES ('0299282519','THE WOK WAY TO COOK','11-SEP-04',4,19.05,28.75, NULL, 'COOKING'); 

INSERT INTO books 
VALUES ('1299282519','COOKING FOR HAPPINESS','25-SEP-04',4,29.00,38.75, NULL, 'COOKING'); 
INSERT INTO books 
VALUES ('2299282519','IT''S TEA TIME','12-AUG-04',4,15.25,18.75, NULL, 'COOKING'); 
INSERT INTO books 
VALUES ('3299282519','IRON CHEF','25-OCT-04',5,19.25,28.75, NULL, 'COOKING'); 
INSERT INTO books 
VALUES ('4299282519','ANN''S KITCHEN','12-SEP-04',5,30.85,38.75, NULL, 'COOKING'); 

-- BUSINESS
INSERT INTO books 
VALUES ('9247381001','HOW TO MANAGE THE MANAGER','09-MAY-03',1,15.40,31.95, NULL,  'BUSINESS'); 

INSERT INTO books 
VALUES ('9247381111','BUSINESS TALK','19-MAY-03',1,45.40,51.95, NULL,  'BUSINESS'); 
INSERT INTO books 
VALUES ('9247381021','FROM GOOD TO BEST','01-JUL-03',1,26.45,45.95, NULL,  'BUSINESS'); 
INSERT INTO books 
VALUES ('9247391001','SUPPLY CHAIN MANAGEMENT','12-MAY-03',1,85.00,120.95, NULL,  'BUSINESS'); 
INSERT INTO books 
VALUES ('9247411001','SMART INVESTORS','30-MAY-08',1,24.40,42.95, NULL,  'BUSINESS'); 


-- SELF HELP
INSERT INTO books 
VALUES ('0132149871','HOW TO GET FASTER PIZZA','11-NOV-04',4,17.85,29.95, 1.50, 'SELF HELP'); 

INSERT INTO books 
VALUES ('1132149871','MY BEST LIFE','30-NOV-04',4,27.85,35.95, 1.50, 'SELF HELP'); 
INSERT INTO books 
VALUES ('2132149871','THE POWER OF I AM','22-OCT-04',3,27.85,39.95, 1.50, 'SELF HELP'); 
INSERT INTO books 
VALUES ('3133149871','BE A BETTER YOU','12-NOV-04',3,24.85,40.95, 1.50, 'SELF HELP'); 

-- LITERATURE 
INSERT INTO books 
VALUES ('2147428890','SHORTEST POEMS','01-MAY-05',5,21.85,39.95, NULL, 'LITERATURE'); 

INSERT INTO books 
VALUES ('2146428890','GONE WITH THE CAT','04-MAR-05',5,20.85,25.95, NULL, 'LITERATURE'); 
INSERT INTO books 
VALUES ('2148428890','PRIDE AND WAR','20-MAY-05',5,18.85,29.95, NULL, 'LITERATURE'); 
INSERT INTO books 
VALUES ('2149428890','EXODUS','10-MAY-05',5,11.85,29.95, NULL, 'LITERATURE'); 

-- ======================================================= orderitems

CREATE TABLE orderitems
     ( order# NUMBER(4),
       item# NUMBER(2),
       isbn VARCHAR2(10),
       quantity NUMBER(3) NOT NULL, 
       paideach NUMBER(5,2) NOT NULL,
      CONSTRAINT orderitems_pk PRIMARY KEY (order#,isbn),
       CONSTRAINT orderitems_custorder#_fk FOREIGN KEY (order#)
             REFERENCES orders (order#) ,
       CONSTRAINT orderitems_isbn_fk FOREIGN KEY (isbn)
             REFERENCES books (isbn) ,
       CONSTRAINT oderitem_qty_ck CHECK (quantity > 0) );
 
INSERT INTO orderitems 
VALUES (1000,1,'3437212490',10,15.00);  
INSERT INTO orderitems 
VALUES (1001,1,'9247381001',3,31.95);  
INSERT INTO orderitems 
VALUES (1001,2,'2491748320',1,85.45);  
INSERT INTO orderitems 
VALUES (1002,1,'8843172113',4,55.95);  
INSERT INTO orderitems 
VALUES (1003,1,'8843172113',2,55.95);  
INSERT INTO orderitems 
VALUES (1003,2,'1059831198',3,30.95); 
INSERT INTO orderitems 
VALUES (1003,3,'3437212490',1,19.95); 
INSERT INTO orderitems 
VALUES (1004,1,'2491748320',2,85.45); 
INSERT INTO orderitems 
VALUES (1005,1,'2147428890',8,39.95); 
INSERT INTO orderitems 
VALUES (1006,1,'9959789321',6,54.50); 
INSERT INTO orderitems 
VALUES (1007,1,'3957136468',3,72.15); 
INSERT INTO orderitems 
VALUES (1007,2,'9959789321',1,54.50); 
INSERT INTO orderitems 
VALUES (1007,3,'8117949391',2,8.95); 
INSERT INTO orderitems 
VALUES (1007,4,'8843172113',3,55.95); 
INSERT INTO orderitems 
VALUES (1008,1,'3437212490',2,19.95); 
INSERT INTO orderitems 
VALUES (1009,1,'3437212490',1,19.95); 
INSERT INTO orderitems 
VALUES (1009,2,'0401140733',2,22.00); 
INSERT INTO orderitems 
VALUES (1010,1,'8843172113',10,55.95); 
INSERT INTO orderitems 
VALUES (1011,1,'2491748320',3,85.45); 
INSERT INTO orderitems 
VALUES (1012,1,'8117949391',12,8.95); 
INSERT INTO orderitems 
VALUES (1012,2,'1915762492',2,25.00); 
INSERT INTO orderitems 
VALUES (1012,3,'2491748320',2,85.45); 
INSERT INTO orderitems 
VALUES (1012,4,'0401140733',1,22.00); 
INSERT INTO orderitems 
VALUES (1013,1,'8843172113',1,55.95); 
INSERT INTO orderitems 
VALUES (1014,1,'0401140733',2,22.00); 
INSERT INTO orderitems 
VALUES (1015,1,'8117949391',3,5.00); 
INSERT INTO orderitems 
VALUES (1016,1,'2491748320',2,85.45); 
INSERT INTO orderitems 
VALUES (1017,1,'8117949391',2, 7.50); 
INSERT INTO orderitems 
VALUES (1018,1,'3437212490',3,19.95); 
INSERT INTO orderitems 
VALUES (1018,2,'8843172113',2,55.95); 
INSERT INTO orderitems 
VALUES (1019,1,'0401140733',5,22.00); 
INSERT INTO orderitems 
VALUES (1020,1,'3437212490',1,19.95); 

-- ======================================================= bookauthor

CREATE TABLE bookauthor 
(isbn VARCHAR2(10), 
 authorid VARCHAR2(4),
  CONSTRAINT bookauthor_pk PRIMARY KEY (isbn, authorid),
  CONSTRAINT bookauthor_isbn_fk FOREIGN KEY (isbn)
             REFERENCES books (isbn),
  CONSTRAINT bookauthor_authorsid_fk FOREIGN KEY (authorid)
             REFERENCES authors (authorid)); 
 
INSERT INTO bookauthor 
VALUES ('1059831198','S100'); 
INSERT INTO bookauthor 
VALUES ('1059831198','P100'); 
INSERT INTO bookauthor 
VALUES ('0401140733','J100'); 
INSERT INTO bookauthor 
VALUES ('4981341710','K100'); 
INSERT INTO bookauthor 
VALUES ('8843172113','P105'); 
INSERT INTO bookauthor 
VALUES ('8843172113','A100'); 
INSERT INTO bookauthor 
VALUES ('8843172113','A105'); 
INSERT INTO bookauthor 
VALUES ('3437212490','B100'); 
INSERT INTO bookauthor 
VALUES ('3957136468','A100'); 
INSERT INTO bookauthor 
VALUES ('1915762492','W100'); 
INSERT INTO bookauthor 
VALUES ('1915762492','W105'); 
INSERT INTO bookauthor 
VALUES ('9959789321','J100'); 
INSERT INTO bookauthor 
VALUES ('2491748320','R100'); 
INSERT INTO bookauthor 
VALUES ('2491748320','F100'); 
INSERT INTO bookauthor 
VALUES ('2491748320','B100'); 
INSERT INTO bookauthor 
VALUES ('0299282519','S100'); 
INSERT INTO bookauthor 
VALUES ('8117949391','R100'); 
INSERT INTO bookauthor 
VALUES ('0132149871','S100'); 
INSERT INTO bookauthor 
VALUES ('9247381001','W100'); 
INSERT INTO bookauthor 
VALUES ('2147428890','W105'); 

-- ======================================================= promotion

CREATE TABLE promotion 
(gift  VARCHAR2(30), 
 minretail NUMBER(10,2), 
 maxretail NUMBER(10,2)); 
 
INSERT INTO promotion 
 VALUES ('BOOK MARKER', 0, 12); 
INSERT INTO promotion 
 VALUES ('BOOK LABELS', 12.01, 25); 
INSERT INTO promotion 
 VALUES ('BOOK COVER', 25.01, 56); 
INSERT INTO promotion 
 VALUES ('FREE SHIPPING', 56.01, 100.00); 
INSERT INTO promotion 
 VALUES ('$10 GIFT CARD', 100.01, 200.00); 
INSERT INTO promotion 
 VALUES ('$20 GIFT CARD', 200.01, 10000.00); 
 

-- ==================================
 CREATE TABLE acctmanager
(amid CHAR(4),
 amfirst VARCHAR2(12)  NOT NULL,
 amlast VARCHAR2(12)  NOT NULL,
 amedate DATE DEFAULT SYSDATE,
 amsal NUMBER(8,2),
 amcomm NUMBER(7,2) DEFAULT 0,
 region CHAR(2),
  CONSTRAINT acctmanager_amid_pk PRIMARY KEY (amid),
  CONSTRAINT acctmanager_region_ck
     CHECK (region IN ('N', 'NW', 'NE', 'S', 'SE', 'SW', 'W', 'E')));

CREATE TABLE acctbonus
(amid CHAR(4),
 amsal NUMBER(8,2),
 region CHAR(2),
  CONSTRAINT acctbonus_amid_pk PRIMARY KEY (amid));

-- =============================================================================
-- ****************************************** EMPLOYEE-DEPARTMENT DATABASE

DROP TABLE dept CASCADE CONSTRAINTS;
DROP TABLE emp CASCADE CONSTRAINTS;
DROP TABLE pay_scale CASCADE CONSTRAINTS;

CREATE TABLE DEPT(
	DEPTNO           NUMBER(2),
	DEPTNAME         VARCHAR2(50),
	LOCATION         VARCHAR2(20),
	CONSTRAINT DEPT_DEPTNO_PK PRIMARY KEY (DEPTNO));

CREATE TABLE EMP(
	EMPNO		  NUMBER(4),
	LASTNAME      VARCHAR2(20),
	FIRSTNAME     VARCHAR2(20),
	JOBTITLE      VARCHAR2(50),
	MGR_ID        NUMBER(4),
	HIREDATE      DATE,
	MONTHLY_SALARY NUMBER(10,2),
	COMMISSION    NUMBER(10,2),
	DEPTNO        NUMBER(2),
	CONSTRAINT EMP_EMPNO_PK 
		PRIMARY KEY(EMPNO),
	CONSTRAINT EMP_DEPTNO_FK 
		FOREIGN KEY(DEPTNO) 
		REFERENCES DEPT
		ON DELETE CASCADE);
		
CREATE TABLE jobtitle_history
(empno NUMBER(4),
effective_date DATE,
jobtitle VARCHAR2(50),
PRIMARY KEY(empno, effective_date));		

INSERT INTO jobtitle_history VALUES (9698, '04-JUN-94', 'SYSTEM ANALYST');
INSERT INTO jobtitle_history VALUES (9698, '04-JUL-95', 'SENIOR SYSTEM ANALYST');

-- 
SELECT lastname, NULLIF(h.jobtitle, e.jobtitle) "Old Job Title", effective_date
FROM emp e JOIN jobtitle_history h USING(empno);


-- 

INSERT INTO dept 
VALUES (01, 'OPERATIONS', 'BUILDING A1');
INSERT INTO dept 
VALUES (10, 'ACCOUNTING', 'BUILDING B2');
INSERT INTO dept 
VALUES (20, 'RESEARCH', 'BUILDING B1');
INSERT INTO dept 
VALUES (30, 'SALES', 'BUILDING C');
INSERT INTO dept 
VALUES (40, 'INFO TECHNOLOGY', 'BUILDING D');

-- President Office (Operations)
INSERT INTO emp VALUES( 7839, 'KING', 'LARRY','PRESIDENT', NULL, TO_DATE('17-NOV-93'), 36500, NULL,  01);
INSERT INTO emp VALUES( 9000, 'JOBS', 'NOAH','ASSISTANT', 7839, TO_DATE('21-NOV-98'), 3500, NULL,  01);

-- Managers
INSERT INTO emp VALUES( 7782, 'CLARK', 'DONNA', 'ACCT MANAGER',  7839, TO_DATE('09-JUN-93'), 13950, NULL,  10);
INSERT INTO emp VALUES( 7566, 'JONES', 'MICHAEL', 'RESEARCH MANAGER',  7839, TO_DATE('02-APR-93'), 12475, NULL,  20);
INSERT INTO emp VALUES( 7698, 'BLAKE', 'MARY','SALES MANAGER',  7839, TO_DATE('01-MAY-93'), 12350, NULL,  30);
INSERT INTO emp VALUES( 9698, 'GATES', 'AVA','IT MANAGER',  7839, TO_DATE('02-MAY-93'), 19350, NULL,  40);


-- 10 Accounting
INSERT INTO emp VALUES( 7934, 'MILLER', 'JOE', 'CLERK',  7782, TO_DATE('23-JAN-94'), 1450, NULL,  10);

-- 20 R&D
INSERT INTO emp VALUES( 7902, 'FORD', 'HENRY', 'PRODUCT ANALYST',  7566, TO_DATE('03-DEC-93'), 6500, NULL,  20);
INSERT INTO emp VALUES( 7369, 'SMITH', 'ANN', 'CLERK',  7902, TO_DATE('17-DEC-92'), 3000, NULL,  20);
INSERT INTO emp VALUES( 7788, 'SCOTT', 'ROBERT', 'PROCESS ANALYST',  7566, TO_DATE('19-APR-99'), 5540, NULL,  20);
INSERT INTO emp VALUES( 7876, 'ADAMS', 'JOHN', 'CLERK',  7788, TO_DATE('23-MAY-99'), 2200, NULL,  20);

-- 30 Sales
INSERT INTO emp VALUES( 7654, 'MARTIN', 'PETER', 'SALES REP.',  7698, TO_DATE('28-SEP-93'), 3750,  1400,  30);
INSERT INTO emp VALUES( 7499, 'ALLEN', 'DIANE', 'SALES REP.',  7698, TO_DATE('20-FEB-93'), 3100,   300,  30);
INSERT INTO emp VALUES( 7844, 'TURNER', 'NANCY', 'SALES REP.',  7698, TO_DATE('08-SEP-93'), 3000,     1000,  30);
INSERT INTO emp VALUES( 7521, 'WARD', 'BILL', 'SALES REP.',  7698, TO_DATE('22-FEB-93'), 2750,   500,  30);

INSERT INTO emp VALUES( 7900, 'JAMES', 'ANDY', 'CLERK',  7698, TO_DATE('03-DEC-93'), 1450, NULL,  30);

-- IT
INSERT INTO emp VALUES( 7945, 'WHITE', 'ETHAN', 'DATABASE ADMINSTRATOR',  9698, TO_DATE('03-DEC-95'), 9450, NULL,  40);
INSERT INTO emp VALUES( 7946, 'JAMES', 'MASON', 'NETWORK SPECIALIST',  9698, TO_DATE('12-DEC-97'), 7450, NULL,  40);
INSERT INTO emp VALUES( 7947, 'TRUMP', 'DIANE', 'DATA ANALYST',  9698, TO_DATE('12-DEC-05'), 10090, NULL,  40);

-- ===== Salary Grade Table

CREATE TABLE pay_scale (
pay_grade CHAR(2) PRIMARY KEY,
min_monthly_salary NUMBER(10,2),
max_monthly_salary NUMBER(10,2));

INSERT INTO pay_scale VALUES ('1', 1.00, 3000.00);
INSERT INTO pay_scale VALUES ('2', 3000.01, 6000.00);
INSERT INTO pay_scale VALUES ('3', 6000.01, 9000.00);
INSERT INTO pay_scale VALUES ('4', 9000.01, 12000.00);
INSERT INTO pay_scale VALUES ('5', 12000.01, 15000.00);
INSERT INTO pay_scale VALUES ('6', 15000.01, 18000.00);
INSERT INTO pay_scale VALUES ('7', 18000.01, 21000.00);
INSERT INTO pay_scale VALUES ('8', 21000.01, 24000.00);
INSERT INTO pay_scale VALUES ('9', 24000.01, 27000.00);
INSERT INTO pay_scale VALUES ('10', 27000.01, 100000.00);
